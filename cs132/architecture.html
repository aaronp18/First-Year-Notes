<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Microprocessor Architecture - Computer Systems Engineering Notes</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../intro.html">Introduction</a></li><li class="chapter-item "><a href="../cs118/index.html"><strong aria-hidden="true">1.</strong> CS118</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs118/floats.html"><strong aria-hidden="true">1.1.</strong> IEEE 754</a></li><li class="chapter-item "><a href="../cs118/oop.html"><strong aria-hidden="true">1.2.</strong> OOP Principles</a></li><li class="chapter-item "><a href="../cs118/exceptions.html"><strong aria-hidden="true">1.3.</strong> Java Exceptions & Generics</a></li></ol></li><li class="chapter-item "><a href="../cs126/index.html"><strong aria-hidden="true">2.</strong> CS126</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs126/arrays.html"><strong aria-hidden="true">2.1.</strong> Arrays & Linked Lists</a></li><li class="chapter-item "><a href="../cs126/analysis.html"><strong aria-hidden="true">2.2.</strong> Analysis of Algorithms</a></li><li class="chapter-item "><a href="../cs126/recursion.html"><strong aria-hidden="true">2.3.</strong> Recursive Algorithms</a></li><li class="chapter-item "><a href="../cs126/stacks.html"><strong aria-hidden="true">2.4.</strong> Stacks & Queues</a></li><li class="chapter-item "><a href="../cs126/lists.html"><strong aria-hidden="true">2.5.</strong> Lists</a></li><li class="chapter-item "><a href="../cs126/maps.html"><strong aria-hidden="true">2.6.</strong> Maps</a></li><li class="chapter-item "><a href="../cs126/hash.html"><strong aria-hidden="true">2.7.</strong> Hash Tables</a></li><li class="chapter-item "><a href="../cs126/sets.html"><strong aria-hidden="true">2.8.</strong> Sets</a></li><li class="chapter-item "><a href="../cs126/trees.html"><strong aria-hidden="true">2.9.</strong> Trees</a></li><li class="chapter-item "><a href="../cs126/pqs.html"><strong aria-hidden="true">2.10.</strong> Priority Queues</a></li><li class="chapter-item "><a href="../cs126/heaps.html"><strong aria-hidden="true">2.11.</strong> Heaps</a></li><li class="chapter-item "><a href="../cs126/skip-lists.html"><strong aria-hidden="true">2.12.</strong> Skip Lists</a></li><li class="chapter-item "><a href="../cs126/graphs.html"><strong aria-hidden="true">2.13.</strong> Graphs</a></li></ol></li><li class="chapter-item expanded "><a href="../cs132/index.html"><strong aria-hidden="true">3.</strong> CS132</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs132/logic.html"><strong aria-hidden="true">3.1.</strong> Digital Logic</a></li><li class="chapter-item "><a href="../cs132/assembly.html"><strong aria-hidden="true">3.2.</strong> Assembly</a></li><li class="chapter-item "><a href="../cs132/memory.html"><strong aria-hidden="true">3.3.</strong> Memory Systems</a></li><li class="chapter-item "><a href="../cs132/io.html"><strong aria-hidden="true">3.4.</strong> I/O</a></li><li class="chapter-item expanded "><a href="../cs132/architecture.html" class="active"><strong aria-hidden="true">3.5.</strong> Microprocessor Architecture</a></li></ol></li><li class="chapter-item "><a href="../cs141/index.html"><strong aria-hidden="true">4.</strong> CS141</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs141/types.html"><strong aria-hidden="true">4.1.</strong> Types & Typeclasses</a></li><li class="chapter-item "><a href="../cs141/recursion.html"><strong aria-hidden="true">4.2.</strong> Recursion</a></li><li class="chapter-item "><a href="../cs141/functions.html"><strong aria-hidden="true">4.3.</strong> Higher Order Functions</a></li><li class="chapter-item "><a href="../cs141/lazy.html"><strong aria-hidden="true">4.4.</strong> Lazy Evaluation</a></li><li class="chapter-item "><a href="../cs141/reasoning.html"><strong aria-hidden="true">4.5.</strong> Reasoning About Programs</a></li><li class="chapter-item "><a href="../cs141/functors.html"><strong aria-hidden="true">4.6.</strong> Functors & Foldables</a></li><li class="chapter-item "><a href="../cs141/applicatives.html"><strong aria-hidden="true">4.7.</strong> Applicative Functors</a></li><li class="chapter-item "><a href="../cs141/monads.html"><strong aria-hidden="true">4.8.</strong> Monads</a></li><li class="chapter-item "><a href="../cs141/tlp.html"><strong aria-hidden="true">4.9.</strong> Type-Level Programming</a></li></ol></li><li class="chapter-item "><a href="../es191/index.html"><strong aria-hidden="true">5.</strong> ES191</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es191/symbols-and-conventions.html"><strong aria-hidden="true">5.1.</strong> Circuit Symbols & Conventions</a></li><li class="chapter-item "><a href="../es191/nodal.html"><strong aria-hidden="true">5.2.</strong> Nodal Analysis</a></li><li class="chapter-item "><a href="../es191/mesh.html"><strong aria-hidden="true">5.3.</strong> Mesh Analysis</a></li><li class="chapter-item "><a href="../es191/thevenin.html"><strong aria-hidden="true">5.4.</strong> Thevenin Circuits</a></li><li class="chapter-item "><a href="../es191/rc.html"><strong aria-hidden="true">5.5.</strong> First Order RC Circuits</a></li><li class="chapter-item "><a href="../es191/rl.html"><strong aria-hidden="true">5.6.</strong> First Order RL Circuits</a></li><li class="chapter-item "><a href="../es191/ac.html"><strong aria-hidden="true">5.7.</strong> AC Circuits</a></li><li class="chapter-item "><a href="../es191/diodes.html"><strong aria-hidden="true">5.8.</strong> Diodes</a></li><li class="chapter-item "><a href="../es191/transistors.html"><strong aria-hidden="true">5.9.</strong> Transistors</a></li><li class="chapter-item "><a href="../es191/opamps.html"><strong aria-hidden="true">5.10.</strong> Op Amps</a></li><li class="chapter-item "><a href="../es191/filters.html"><strong aria-hidden="true">5.11.</strong> Passive Filters</a></li><li class="chapter-item "><a href="../es191/equations.html"><strong aria-hidden="true">5.12.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es193/index.html"><strong aria-hidden="true">6.</strong> ES193</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es193/functions.html"><strong aria-hidden="true">6.1.</strong> Functions, Conics & Asymptotes</a></li><li class="chapter-item "><a href="../es193/complex.html"><strong aria-hidden="true">6.2.</strong> Complex Numbers</a></li><li class="chapter-item "><a href="../es193/vectors.html"><strong aria-hidden="true">6.3.</strong> Vectors</a></li><li class="chapter-item "><a href="../es193/matrices.html"><strong aria-hidden="true">6.4.</strong> Matrices</a></li><li class="chapter-item "><a href="../es193/equations.html"><strong aria-hidden="true">6.5.</strong> Simultaneous Linear Equations</a></li><li class="chapter-item "><a href="../es193/diff.html"><strong aria-hidden="true">6.6.</strong> Differentiation</a></li><li class="chapter-item "><a href="../es193/int.html"><strong aria-hidden="true">6.7.</strong> Integration</a></li><li class="chapter-item "><a href="../es193/diffeq.html"><strong aria-hidden="true">6.8.</strong> Differential Equations</a></li><li class="chapter-item "><a href="../es193/laplace.html"><strong aria-hidden="true">6.9.</strong> Laplace Transforms</a></li><li class="chapter-item "><a href="../es193/stats.html"><strong aria-hidden="true">6.10.</strong> Probability & Statistics</a></li><li class="chapter-item "><a href="../es193/equationref.html"><strong aria-hidden="true">6.11.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es197/index.html"><strong aria-hidden="true">7.</strong> ES197</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es197/mech1.html"><strong aria-hidden="true">7.1.</strong> Translational Mechanical Systems</a></li><li class="chapter-item "><a href="../es197/mech2.html"><strong aria-hidden="true">7.2.</strong> Rotational Mechanical Systems</a></li><li class="chapter-item "><a href="../es197/electrical.html"><strong aria-hidden="true">7.3.</strong> Electrical Systems</a></li><li class="chapter-item "><a href="../es197/thermal.html"><strong aria-hidden="true">7.4.</strong> Thermal Systems</a></li><li class="chapter-item "><a href="../es197/data.html"><strong aria-hidden="true">7.5.</strong> Data Driven Models</a></li><li class="chapter-item "><a href="../es197/step1.html"><strong aria-hidden="true">7.6.</strong> First Order Step Response</a></li><li class="chapter-item "><a href="../es197/step2.html"><strong aria-hidden="true">7.7.</strong> Second Order Step Response</a></li><li class="chapter-item "><a href="../es197/transfer.html"><strong aria-hidden="true">7.8.</strong> Transfer Functions</a></li><li class="chapter-item "><a href="../es197/freq1.html"><strong aria-hidden="true">7.9.</strong> First Order Frequency Response</a></li><li class="chapter-item "><a href="../es197/freq2.html"><strong aria-hidden="true">7.10.</strong> Second Order Frequency Response</a></li></ol></li><li class="chapter-item "><a href="../cs241/index.html"><strong aria-hidden="true">8.</strong> CS241</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs241/os.html"><strong aria-hidden="true">8.1.</strong> Operating Systems</a></li><li class="chapter-item "><a href="../cs241/cn.html"><strong aria-hidden="true">8.2.</strong> Networks</a></li></ol></li><li class="chapter-item "><a href="../cs257/index.html"><strong aria-hidden="true">9.</strong> CS257</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs257/memory.html"><strong aria-hidden="true">9.1.</strong> Memory Systems</a></li><li class="chapter-item "><a href="../cs257/architecture.html"><strong aria-hidden="true">9.2.</strong> Processor Architecture</a></li><li class="chapter-item "><a href="../cs257/parallelism.html"><strong aria-hidden="true">9.3.</strong> Parallelism</a></li><li class="chapter-item "><a href="../cs257/io.html"><strong aria-hidden="true">9.4.</strong> I/O</a></li><li class="chapter-item "><a href="../cs257/embedded.html"><strong aria-hidden="true">9.5.</strong> Embedded Systems & Security</a></li></ol></li><li class="chapter-item "><a href="../cs261/index.html"><strong aria-hidden="true">10.</strong> CS261</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs261/methodologies.html"><strong aria-hidden="true">10.1.</strong> Requirements & Software Methodologies</a></li><li class="chapter-item "><a href="../cs261/modelling.html"><strong aria-hidden="true">10.2.</strong> System Modelling</a></li><li class="chapter-item "><a href="../cs261/design.html"><strong aria-hidden="true">10.3.</strong> System Design</a></li><li class="chapter-item "><a href="../cs261/testing.html"><strong aria-hidden="true">10.4.</strong> Testing & HCI</a></li></ol></li><li class="chapter-item "><a href="../es2c0/index.html"><strong aria-hidden="true">11.</strong> ES2C0</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c0/diodes.html"><strong aria-hidden="true">11.1.</strong> Diodes</a></li><li class="chapter-item "><a href="../es2c0/oscillators.html"><strong aria-hidden="true">11.2.</strong> Oscillators</a></li><li class="chapter-item "><a href="../es2c0/bjt.html"><strong aria-hidden="true">11.3.</strong> BJTs</a></li><li class="chapter-item "><a href="../es2c0/bjt-amps.html"><strong aria-hidden="true">11.4.</strong> BJT Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/mosfet.html"><strong aria-hidden="true">11.5.</strong> MOSFETs</a></li><li class="chapter-item "><a href="../es2c0/mosfet-amps.html"><strong aria-hidden="true">11.6.</strong> MOSFET Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/differential.html"><strong aria-hidden="true">11.7.</strong> Differential Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/opamps.html"><strong aria-hidden="true">11.8.</strong> Op-Amps</a></li><li class="chapter-item "><a href="../es2c0/equations.html"><strong aria-hidden="true">11.9.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es2c6/index.html"><strong aria-hidden="true">12.</strong> ES2C6</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c6/control.html"><strong aria-hidden="true">12.1.</strong> Control Systems</a></li><li class="chapter-item "><a href="../es2c6/mechanics.html"><strong aria-hidden="true">12.2.</strong> Drive Systems</a></li><li class="chapter-item "><a href="../es2c6/sensors.html"><strong aria-hidden="true">12.3.</strong> Sensors</a></li><li class="chapter-item "><a href="../es2c6/electromagnetics.html"><strong aria-hidden="true">12.4.</strong> Electromagnetics & Motors</a></li><li class="chapter-item "><a href="../es2c6/ac.html"><strong aria-hidden="true">12.5.</strong> AC Power</a></li><li class="chapter-item "><a href="../es2c6/3phase.html"><strong aria-hidden="true">12.6.</strong> Three Phase AC Systems</a></li></ol></li><li class="chapter-item "><a href="../es2c7/index.html"><strong aria-hidden="true">13.</strong> ES2C7</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c7/binomial.html"><strong aria-hidden="true">13.1.</strong> Binomial Theorem & Taylor Series</a></li><li class="chapter-item "><a href="../es2c7/matrices.html"><strong aria-hidden="true">13.2.</strong> Matrices & Quadratic Forms</a></li><li class="chapter-item "><a href="../es2c7/equations.html"><strong aria-hidden="true">13.3.</strong> Linear Simultaneous Equations</a></li><li class="chapter-item "><a href="../es2c7/eigen.html"><strong aria-hidden="true">13.4.</strong> Eigenvalues & Eigenvectors</a></li><li class="chapter-item "><a href="../es2c7/systems.html"><strong aria-hidden="true">13.5.</strong> Oscillators & State Space Systems</a></li><li class="chapter-item "><a href="../es2c7/calculus.html"><strong aria-hidden="true">13.6.</strong> Matrix Differential Calculus</a></li><li class="chapter-item "><a href="../es2c7/optimisation.html"><strong aria-hidden="true">13.7.</strong> Optimisation</a></li><li class="chapter-item "><a href="../es2c7/fourier.html"><strong aria-hidden="true">13.8.</strong> Fourier Series & Transforms</a></li><li class="chapter-item "><a href="../es2c7/z.html"><strong aria-hidden="true">13.9.</strong> Z Transforms</a></li><li class="chapter-item "><a href="../es2c7/pdes.html"><strong aria-hidden="true">13.10.</strong> Partial Differential Equations</a></li></ol></li><li class="chapter-item "><a href="../es2e3/index.html"><strong aria-hidden="true">14.</strong> ES2E3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2e3/logic.html"><strong aria-hidden="true">14.1.</strong> Logic</a></li><li class="chapter-item "><a href="../es2e3/hdl.html"><strong aria-hidden="true">14.2.</strong> Hardware Description Languages</a></li><li class="chapter-item "><a href="../es2e3/verilog.html"><strong aria-hidden="true">14.3.</strong> Structural & Behavioual Verilog</a></li><li class="chapter-item "><a href="../es2e3/design.html"><strong aria-hidden="true">14.4.</strong> FPGA Design Flow</a></li><li class="chapter-item "><a href="../es2e3/architecture.html"><strong aria-hidden="true">14.5.</strong> FPGA Architecture</a></li><li class="chapter-item "><a href="../es2e3/sequential.html"><strong aria-hidden="true">14.6.</strong> Sequential Verilog</a></li><li class="chapter-item "><a href="../es2e3/fsm.html"><strong aria-hidden="true">14.7.</strong> Finite State Machines</a></li><li class="chapter-item "><a href="../es2e3/verification.html"><strong aria-hidden="true">14.8.</strong> Verification</a></li><li class="chapter-item "><a href="../es2e3/arithmetic.html"><strong aria-hidden="true">14.9.</strong> FPGA Arithmetic</a></li><li class="chapter-item "><a href="../es2e3/timing.html"><strong aria-hidden="true">14.10.</strong> Timing & Pipelining</a></li><li class="chapter-item "><a href="../es2e3/interfaces.html"><strong aria-hidden="true">14.11.</strong> Hardware Interfaces</a></li><li class="chapter-item "><a href="../es2e3/processors.html"><strong aria-hidden="true">14.12.</strong> Processor Implementation</a></li></ol></li><li class="chapter-item "><a href="../es3c5/index.html"><strong aria-hidden="true">15.</strong> ES3C5</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es3c5/brief-notes.html"><strong aria-hidden="true">15.1.</strong> Brief Notes + Equations (Aaron)</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Computer Systems Engineering Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Joeyh021/notes" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/Joeyh021/notes/edit/master/src/cs132/architecture.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="microprocessor-architecture"><a class="header" href="#microprocessor-architecture">Microprocessor Architecture</a></h1>
<ul>
<li>Computer architecture concerns the structure and properties of a computer system, from the perspective of a software engineer</li>
<li>Computer organisation concerns the structure and properties of a computer system, from the perspective of a hardware engineer</li>
</ul>
<h2 id="the-patp"><a class="header" href="#the-patp">The PATP</a></h2>
<p>The Pedagogically Advanced Teaching Processor is a very simple microprocessor. The specifics of it are <strong>not examinable</strong>, but it is used to build an understanding of microprocessor architecture.</p>
<h3 id="programmers-model"><a class="header" href="#programmers-model">Programmer's model</a></h3>
<p>The PATP has 8 instructions. Each instruction is 1 8-bit word, with the first 3 bits as the opcode and last 5 as the operand, if applicable.</p>
<div class="table-wrapper"><table><thead><tr><th>Opcode</th><th>Mnemonic</th><th>Macro Operation</th><th>Description</th></tr></thead><tbody>
<tr><td>000</td><td><code>CLEAR</code></td><td><code>[D0] &lt;- 0</code></td><td>Set D0 to 0 (and set <code>Z</code>)</td></tr>
<tr><td>001</td><td><code>INC</code></td><td><code>[D0] &lt;- [D0] + 1</code></td><td>Increment the value in D0 (and set <code>Z</code> if result is 0)</td></tr>
<tr><td>010</td><td><code>ADD #v</code></td><td><code>[D0] &lt;- [D0] + v</code></td><td>Add the literal v to D0 (and set <code>Z</code> if result is 0)</td></tr>
<tr><td>011</td><td><code>DEC</code></td><td><code>[D0] &lt;- [D0] - 1</code></td><td>Decrement the value in D0 (and set <code>Z</code> if result is 0)</td></tr>
<tr><td>100</td><td><code>JMP loc</code></td><td><code>[PC] &lt;- loc</code></td><td>Jump unconditionally to address location <code>loc</code></td></tr>
<tr><td>101</td><td><code>BNZ loc</code></td><td>If <code>Z</code> is not 0 then <code>[PC] &lt;- loc</code></td><td>Jump to address location <code>loc</code> if <code>Z</code> is not set</td></tr>
<tr><td>110</td><td><code>LOAD loc</code></td><td><code>[DO] &lt;- [MS(loc)]</code></td><td>Load the 8 bit value from address location <code>loc</code> to D0</td></tr>
<tr><td>111</td><td><code>STORE loc</code></td><td><code>[MS(loc)] &lt;- [D0]</code></td><td>Write the 8 bit value from D0 to address location <code>loc</code></td></tr>
</tbody></table>
</div>
<p>This is not many instructions, but it is technically Turing-complete. The other specs of the PATP are:</p>
<ul>
<li>An address space of 32 bytes (the maximum address is <code>11111</code>)</li>
<li>A single 8-bit data register/accumulator <code>D0</code></li>
<li>A CCR with only 1 bit (<code>Z</code>, set when an arithmetic operation has a result of zero)</li>
<li>A 5-bit program counter (only 5 bits needed to address whole memory)</li>
</ul>
<h3 id="internal-organisation"><a class="header" href="#internal-organisation">Internal Organisation</a></h3>
<p>There are several building blocks that make up the internals of the PATP:</p>
<p><img src="./img/D0.png" alt="" /></p>
<ul>
<li>The data register <code>D0</code>
<ul>
<li>An 8 bit register constructed from D-type flip-flops</li>
<li>Has parallel input and output</li>
<li>Clocked</li>
</ul>
</li>
</ul>
<p><img src="./img/ALU.png" alt="" /></p>
<ul>
<li>The ALU
<ul>
<li>Built around an <a href="./logic.html#n-bit-addersubtractor">8-bit adder/subtractor</a></li>
<li>Has two 8-bit inputs <code>P</code> and <code>Q</code></li>
<li>Capable of
<ul>
<li>Increment (+1)</li>
<li>Decrement (-1)</li>
<li>Addition (+n)</li>
</ul>
</li>
<li>Two function select inputs <code>F1</code> and <code>F2</code> which choose the operation to perform
<ul>
<li>00: Zero output</li>
<li>01: Q + 1</li>
<li>10: Q + P</li>
<li>11: Q - 1</li>
</ul>
</li>
<li>An output <code>F(P, Q)</code> which outputs the result of the operation</li>
<li>A <code>Z</code> output for the CCR</li>
</ul>
</li>
</ul>
<p><img src="./img/bus.png" alt="" /></p>
<ul>
<li>The main system bus
<ul>
<li>Uses 3-state buffers to enable communication</li>
</ul>
</li>
</ul>
<p><img src="./img/CU.png" alt="" /></p>
<ul>
<li>The control unit
<ul>
<li>Controls:
<ul>
<li>The busses (enables)</li>
<li>When registers are clocked</li>
<li>ALU operation</li>
<li>Memory acccess</li>
</ul>
</li>
<li>Responsible for decoding instructions and issuing micro-instructions</li>
<li>Inputs
<ul>
<li>Opcode</li>
<li>Clock</li>
<li><code>Z</code> register</li>
</ul>
</li>
<li>Outputs
<ul>
<li>Enables
<ul>
<li>Main store</li>
<li>Instruction register <code>IR</code></li>
<li>Program counter</li>
<li>Data register <code>D0</code></li>
<li>ALU register</li>
</ul>
</li>
<li>Clocks
<ul>
<li>Memory address register <code>MAR</code></li>
<li>Instruction register <code>IR</code></li>
<li>Program counter</li>
<li>Data register <code>D0</code></li>
<li>ALU register</li>
</ul>
</li>
<li><code>F1</code> and <code>F2</code> on the ALU</li>
<li><code>R</code>/<code>W</code> to control bit for main store</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>All the components come together like so:</p>
<p><img src="./img/PATP.png" alt="" /></p>
<h2 id="micro-and-macro-instructions"><a class="header" href="#micro-and-macro-instructions">Micro and Macro Instructions</a></h2>
<p>There are several steps internally that are required to execute a single instruction. For example, to execute an <code>INC</code> operation:</p>
<ul>
<li>D0 need to be put on the system bus
<ul>
<li>CU enables the three-state buffer for D0</li>
<li><code>[ALU(Q)] &lt;- D0</code></li>
</ul>
</li>
<li>The correct ALU function must be selected
<ul>
<li><code>F1 = 0</code>, <code>F2 = 1</code></li>
<li>Signals asserted by CU</li>
<li><code>[ALU(F)] &lt;- 01</code></li>
</ul>
</li>
<li>The output from the ALU must be read into the ALU register
<ul>
<li>ALUreg clocked by CU</li>
<li><code>[ALUreg] &lt;- [ALU]</code></li>
</ul>
</li>
<li>D0 reads in the ALU output from the ALU register
<ul>
<li>CU enables the three-state buffer for ALUreg</li>
<li>D0 is clocked by CU</li>
</ul>
</li>
</ul>
<p>Macro instructions are the assembly instructions issued to the processor (to the CU, specifically), but micro instructions provide a low level overview of how data is moved around between internals of the CPU and what signals are asserted internally. The PATP can execute all instructions in 2 cycles. The table below gives an overview of the micro operations required for each macro instruction, along with the macro operations for fetching from main store.</p>
<p><img src="./img/mu-ops.png" alt="" /></p>
<h3 id="control-signals"><a class="header" href="#control-signals">Control Signals</a></h3>
<p>The control unit asserts control signals at each step of execution, and the assertion of these control signals determine how data moves internally. For the PATP:</p>
<ul>
<li>Enable signals are level-triggered</li>
<li>Clock signals are falling edge-triggered</li>
<li>An output can be enabled onto the main bus and then clocked elsewhere in a single time step</li>
<li>ALU timings assume that, if values are enabled at P and Q at the start of a cycle, then the ALU register can be clocked on the falling edge of that cycle</li>
<li>MS timings assume that if MAR is loaded during one cycle, then R, W and EMS can be used in the next cycle</li>
</ul>
<p>The diagram below shows the timing for a fetch taking 4 cycles, and which components are signalled when. Notice which things happen in the same cycle, and which must happen sequentially.</p>
<div class="table-wrapper"><table><thead><tr><th>cycle</th><th>Micro-Op</th><th>Control Signals</th></tr></thead><tbody>
<tr><td>1</td><td><code>[MAR] &lt;- [PC]</code></td><td>Enable PC, Clock MAR</td></tr>
<tr><td>2</td><td><code>[IR] &lt;- [MS(MAR)]</code></td><td>Set read for MAR, Enable MS, Clock IR</td></tr>
<tr><td>3</td><td><code>[ALU(Q)] &lt;- [PC]</code></td><td>Enable PC</td></tr>
<tr><td>3</td><td><code>[ALU(F) &lt;- 01]</code></td><td>F1 = 0, F2 = 1</td></tr>
<tr><td>3</td><td><code>[ALUreg] &lt;- [ALU]</code></td><td>Clock ALUreg</td></tr>
<tr><td>4</td><td><code>[PC] &lt;- [ALUreg]</code></td><td>Enable ALUreg, Clock PC</td></tr>
</tbody></table>
</div>
<p><img src="./img/timings.png" alt="" /></p>
<h2 id="control-unit-design"><a class="header" href="#control-unit-design">Control Unit Design</a></h2>
<p>The task of the control unit is to coordinate the actions of the CPU, namely the Fetch-Decode-Execute cycle. It generates the fetch control sequence, takes opcode input, and generates the right control sequence based on this. It can be designed to do this in one of two ways:</p>
<ul>
<li>Hardwired design (sometimes called &quot;random logic&quot;)
<ul>
<li>The CU is a combinatorial logic circuit, transforming input directly to output</li>
</ul>
</li>
<li>Microprogrammed
<ul>
<li>Each opcode is turned into a sequence of microinstructions, which form a microprogram</li>
<li>Microprograms stored in ROM called microprogram memory</li>
</ul>
</li>
</ul>
<h3 id="hardwired"><a class="header" href="#hardwired">Hardwired</a></h3>
<ul>
<li>A sequencer is used to sequence the clock cycles
<ul>
<li>Has clock input and n outputs <code>T1 ... Tn</code></li>
<li>First clock pulse is output from <code>T1</code></li>
<li>Second is output from <code>T2</code></li>
<li>Clock pulse n output from <code>Tn</code></li>
<li>Pulse n+1 output from <code>T1</code></li>
</ul>
</li>
<li>This aligns the operation of the circuit with the control steps</li>
<li>Advantages
<ul>
<li>Fast</li>
</ul>
</li>
<li>Disadvantages
<ul>
<li>Complex, difficult to design and test</li>
<li>Inflexible, cant change design to add new instructions</li>
<li>Takes a long time to design</li>
</ul>
</li>
<li>This technique is most commonly used in RISC processors and has been since the 80s</li>
</ul>
<p><img src="./img/hardwired-CU.png" alt="" /></p>
<ul>
<li>The control signal generator maps each instruction to outputs</li>
<li>The sequencer sequences the outputs appropriately</li>
<li>The flip-flop is used to regulate control rounds</li>
</ul>
<h3 id="microprogrammed"><a class="header" href="#microprogrammed">Microprogrammed</a></h3>
<ul>
<li>The microprogram memory stores the required control actions for each opcode</li>
<li>The CU basically acts as a mini CPU within the CPU
<ul>
<li><strong>Microaddress</strong> is a location within microprogram memory</li>
<li><strong>MicroPC</strong> is the CU's internal program counter</li>
<li><strong>MicroIR</strong> is the CU's internal microinstruction register</li>
</ul>
</li>
<li>The microPC can be used in different ways depending upon implementation
<ul>
<li>Holds the next microaddress</li>
<li>Holds the microaddress of microroutine for next opcode</li>
</ul>
</li>
<li>When powered initially holds microaddress 0
<ul>
<li>The fetch microprogram</li>
</ul>
</li>
<li>Each microinstruction sets the CU outputs to the values dictated the instruction
<ul>
<li>As the microprogram executes, the CU generates control signals</li>
</ul>
</li>
<li>After each microinstruction, the microPC is typically incremented, so microinstructions are stepped through in sequence</li>
<li>After a fetch, the microPC is not incremented, but is set to the output from the opcode decoding circuit (labelled OTOA in the diagram)</li>
<li>After a normal opcode microprogram, the microPC is set back to 0 (fetch)</li>
<li>When executing the microprogram for a conditional branch instruction, the microPC value is generated based upon whether the CU's Z input is set</li>
</ul>
<p><img src="./img/micro-CU.png" alt="" /></p>
<ul>
<li>Advantages
<ul>
<li>Easy to design and implement</li>
<li>Flexible design</li>
<li>Simple hardware compared to alternative</li>
<li>Can be reprogrammed for new instructions</li>
</ul>
</li>
<li>Disadvantages
<ul>
<li>Slower than hardwired</li>
</ul>
</li>
<li>Most commonly used for CISC processors</li>
</ul>
<h2 id="risc-and-cisc"><a class="header" href="#risc-and-cisc">RISC and CISC</a></h2>
<p>In the late 70s-early 80s, it was shown that certain instructions are used far more than others:</p>
<ul>
<li>45% data movement (move, store, load)</li>
<li>29% control flow (branch, call, return)</li>
<li>11% arithmetic (add, sub)</li>
</ul>
<p>The overhead from using a microprogram memory also became more significant as the rest of the processor became faster. This caused a shift towards RISC computing. Right now, ARM is the largest RISC computing platform. Intel serve more for backwards compatibility with a CISC instruction set. In an modern intel processor, simplest instructions are executed by a RISC core, more complex ones are microprogrammed.</p>
<ul>
<li>RISC has simple, standard instructions whereas CISC has lots of more complex instructions
<ul>
<li>x86 is often criticised as bloated</li>
</ul>
</li>
<li>RISC allows for simpler, faster, more streamlined design</li>
<li>RISC instructions aim to be executed in a single cycle</li>
<li>CISC puts the focus on the hardware doing as much as possible, whereas RISC makes the software do the work</li>
</ul>
<h2 id="multicore-systems"><a class="header" href="#multicore-systems">Multicore Systems</a></h2>
<ul>
<li>The performance of a processor can be considered as the rate at which it executes instructions: clock speed x IPC (instructions per clock).</li>
<li>To increase performance, increase clock speed and/or IPC</li>
<li>An alternative way of increasing performance is parallel execution</li>
<li>Multithreading separates the instruction stream into threads that can execute in parallel</li>
<li>A <strong>process</strong> is an instance of a program running on a computer
<ul>
<li>A process has <strong>ownership</strong> of resources: the program's virtual address space, i/o devices, other data that defines the process</li>
<li>The process is <strong>scheduled</strong> by the OS to divide the execution time of the processor between threads</li>
<li>The processor <strong>switches</strong> between processes using the stack</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../cs132/io.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../cs141/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../cs132/io.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../cs141/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
