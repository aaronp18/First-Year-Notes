<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Structural &amp; Behavioual Verilog - Computer Systems Engineering Notes</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../intro.html">Introduction</a></li><li class="chapter-item "><a href="../cs118/index.html"><strong aria-hidden="true">1.</strong> CS118</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs118/floats.html"><strong aria-hidden="true">1.1.</strong> IEEE 754</a></li><li class="chapter-item "><a href="../cs118/oop.html"><strong aria-hidden="true">1.2.</strong> OOP Principles</a></li><li class="chapter-item "><a href="../cs118/exceptions.html"><strong aria-hidden="true">1.3.</strong> Java Exceptions & Generics</a></li></ol></li><li class="chapter-item "><a href="../cs126/index.html"><strong aria-hidden="true">2.</strong> CS126</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs126/arrays.html"><strong aria-hidden="true">2.1.</strong> Arrays & Linked Lists</a></li><li class="chapter-item "><a href="../cs126/analysis.html"><strong aria-hidden="true">2.2.</strong> Analysis of Algorithms</a></li><li class="chapter-item "><a href="../cs126/recursion.html"><strong aria-hidden="true">2.3.</strong> Recursive Algorithms</a></li><li class="chapter-item "><a href="../cs126/stacks.html"><strong aria-hidden="true">2.4.</strong> Stacks & Queues</a></li><li class="chapter-item "><a href="../cs126/lists.html"><strong aria-hidden="true">2.5.</strong> Lists</a></li><li class="chapter-item "><a href="../cs126/maps.html"><strong aria-hidden="true">2.6.</strong> Maps</a></li><li class="chapter-item "><a href="../cs126/hash.html"><strong aria-hidden="true">2.7.</strong> Hash Tables</a></li><li class="chapter-item "><a href="../cs126/sets.html"><strong aria-hidden="true">2.8.</strong> Sets</a></li><li class="chapter-item "><a href="../cs126/trees.html"><strong aria-hidden="true">2.9.</strong> Trees</a></li><li class="chapter-item "><a href="../cs126/pqs.html"><strong aria-hidden="true">2.10.</strong> Priority Queues</a></li><li class="chapter-item "><a href="../cs126/heaps.html"><strong aria-hidden="true">2.11.</strong> Heaps</a></li><li class="chapter-item "><a href="../cs126/skip-lists.html"><strong aria-hidden="true">2.12.</strong> Skip Lists</a></li><li class="chapter-item "><a href="../cs126/graphs.html"><strong aria-hidden="true">2.13.</strong> Graphs</a></li></ol></li><li class="chapter-item "><a href="../cs132/index.html"><strong aria-hidden="true">3.</strong> CS132</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs132/logic.html"><strong aria-hidden="true">3.1.</strong> Digital Logic</a></li><li class="chapter-item "><a href="../cs132/assembly.html"><strong aria-hidden="true">3.2.</strong> Assembly</a></li><li class="chapter-item "><a href="../cs132/memory.html"><strong aria-hidden="true">3.3.</strong> Memory Systems</a></li><li class="chapter-item "><a href="../cs132/io.html"><strong aria-hidden="true">3.4.</strong> I/O</a></li><li class="chapter-item "><a href="../cs132/architecture.html"><strong aria-hidden="true">3.5.</strong> Microprocessor Architecture</a></li></ol></li><li class="chapter-item "><a href="../cs141/index.html"><strong aria-hidden="true">4.</strong> CS141</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs141/types.html"><strong aria-hidden="true">4.1.</strong> Types & Typeclasses</a></li><li class="chapter-item "><a href="../cs141/recursion.html"><strong aria-hidden="true">4.2.</strong> Recursion</a></li><li class="chapter-item "><a href="../cs141/functions.html"><strong aria-hidden="true">4.3.</strong> Higher Order Functions</a></li><li class="chapter-item "><a href="../cs141/lazy.html"><strong aria-hidden="true">4.4.</strong> Lazy Evaluation</a></li><li class="chapter-item "><a href="../cs141/reasoning.html"><strong aria-hidden="true">4.5.</strong> Reasoning About Programs</a></li><li class="chapter-item "><a href="../cs141/functors.html"><strong aria-hidden="true">4.6.</strong> Functors & Foldables</a></li><li class="chapter-item "><a href="../cs141/applicatives.html"><strong aria-hidden="true">4.7.</strong> Applicative Functors</a></li><li class="chapter-item "><a href="../cs141/monads.html"><strong aria-hidden="true">4.8.</strong> Monads</a></li><li class="chapter-item "><a href="../cs141/tlp.html"><strong aria-hidden="true">4.9.</strong> Type-Level Programming</a></li></ol></li><li class="chapter-item "><a href="../es191/index.html"><strong aria-hidden="true">5.</strong> ES191</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es191/symbols-and-conventions.html"><strong aria-hidden="true">5.1.</strong> Circuit Symbols & Conventions</a></li><li class="chapter-item "><a href="../es191/nodal.html"><strong aria-hidden="true">5.2.</strong> Nodal Analysis</a></li><li class="chapter-item "><a href="../es191/mesh.html"><strong aria-hidden="true">5.3.</strong> Mesh Analysis</a></li><li class="chapter-item "><a href="../es191/thevenin.html"><strong aria-hidden="true">5.4.</strong> Thevenin Circuits</a></li><li class="chapter-item "><a href="../es191/rc.html"><strong aria-hidden="true">5.5.</strong> First Order RC Circuits</a></li><li class="chapter-item "><a href="../es191/rl.html"><strong aria-hidden="true">5.6.</strong> First Order RL Circuits</a></li><li class="chapter-item "><a href="../es191/ac.html"><strong aria-hidden="true">5.7.</strong> AC Circuits</a></li><li class="chapter-item "><a href="../es191/diodes.html"><strong aria-hidden="true">5.8.</strong> Diodes</a></li><li class="chapter-item "><a href="../es191/transistors.html"><strong aria-hidden="true">5.9.</strong> Transistors</a></li><li class="chapter-item "><a href="../es191/opamps.html"><strong aria-hidden="true">5.10.</strong> Op Amps</a></li><li class="chapter-item "><a href="../es191/filters.html"><strong aria-hidden="true">5.11.</strong> Passive Filters</a></li><li class="chapter-item "><a href="../es191/equations.html"><strong aria-hidden="true">5.12.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es193/index.html"><strong aria-hidden="true">6.</strong> ES193</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es193/functions.html"><strong aria-hidden="true">6.1.</strong> Functions, Conics & Asymptotes</a></li><li class="chapter-item "><a href="../es193/complex.html"><strong aria-hidden="true">6.2.</strong> Complex Numbers</a></li><li class="chapter-item "><a href="../es193/vectors.html"><strong aria-hidden="true">6.3.</strong> Vectors</a></li><li class="chapter-item "><a href="../es193/matrices.html"><strong aria-hidden="true">6.4.</strong> Matrices</a></li><li class="chapter-item "><a href="../es193/equations.html"><strong aria-hidden="true">6.5.</strong> Simultaneous Linear Equations</a></li><li class="chapter-item "><a href="../es193/diff.html"><strong aria-hidden="true">6.6.</strong> Differentiation</a></li><li class="chapter-item "><a href="../es193/int.html"><strong aria-hidden="true">6.7.</strong> Integration</a></li><li class="chapter-item "><a href="../es193/diffeq.html"><strong aria-hidden="true">6.8.</strong> Differential Equations</a></li><li class="chapter-item "><a href="../es193/laplace.html"><strong aria-hidden="true">6.9.</strong> Laplace Transforms</a></li><li class="chapter-item "><a href="../es193/stats.html"><strong aria-hidden="true">6.10.</strong> Probability & Statistics</a></li><li class="chapter-item "><a href="../es193/equationref.html"><strong aria-hidden="true">6.11.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es197/index.html"><strong aria-hidden="true">7.</strong> ES197</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es197/mech1.html"><strong aria-hidden="true">7.1.</strong> Translational Mechanical Systems</a></li><li class="chapter-item "><a href="../es197/mech2.html"><strong aria-hidden="true">7.2.</strong> Rotational Mechanical Systems</a></li><li class="chapter-item "><a href="../es197/electrical.html"><strong aria-hidden="true">7.3.</strong> Electrical Systems</a></li><li class="chapter-item "><a href="../es197/thermal.html"><strong aria-hidden="true">7.4.</strong> Thermal Systems</a></li><li class="chapter-item "><a href="../es197/data.html"><strong aria-hidden="true">7.5.</strong> Data Driven Models</a></li><li class="chapter-item "><a href="../es197/step1.html"><strong aria-hidden="true">7.6.</strong> First Order Step Response</a></li><li class="chapter-item "><a href="../es197/step2.html"><strong aria-hidden="true">7.7.</strong> Second Order Step Response</a></li><li class="chapter-item "><a href="../es197/transfer.html"><strong aria-hidden="true">7.8.</strong> Transfer Functions</a></li><li class="chapter-item "><a href="../es197/freq1.html"><strong aria-hidden="true">7.9.</strong> First Order Frequency Response</a></li><li class="chapter-item "><a href="../es197/freq2.html"><strong aria-hidden="true">7.10.</strong> Second Order Frequency Response</a></li></ol></li><li class="chapter-item "><a href="../cs241/index.html"><strong aria-hidden="true">8.</strong> CS241</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs241/os.html"><strong aria-hidden="true">8.1.</strong> Operating Systems</a></li><li class="chapter-item "><a href="../cs241/cn.html"><strong aria-hidden="true">8.2.</strong> Networks</a></li></ol></li><li class="chapter-item "><a href="../cs257/index.html"><strong aria-hidden="true">9.</strong> CS257</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs257/memory.html"><strong aria-hidden="true">9.1.</strong> Memory Systems</a></li><li class="chapter-item "><a href="../cs257/architecture.html"><strong aria-hidden="true">9.2.</strong> Processor Architecture</a></li><li class="chapter-item "><a href="../cs257/parallelism.html"><strong aria-hidden="true">9.3.</strong> Parallelism</a></li><li class="chapter-item "><a href="../cs257/io.html"><strong aria-hidden="true">9.4.</strong> I/O</a></li><li class="chapter-item "><a href="../cs257/embedded.html"><strong aria-hidden="true">9.5.</strong> Embedded Systems & Security</a></li></ol></li><li class="chapter-item "><a href="../cs261/index.html"><strong aria-hidden="true">10.</strong> CS261</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cs261/methodologies.html"><strong aria-hidden="true">10.1.</strong> Requirements & Software Methodologies</a></li><li class="chapter-item "><a href="../cs261/modelling.html"><strong aria-hidden="true">10.2.</strong> System Modelling</a></li><li class="chapter-item "><a href="../cs261/design.html"><strong aria-hidden="true">10.3.</strong> System Design</a></li><li class="chapter-item "><a href="../cs261/testing.html"><strong aria-hidden="true">10.4.</strong> Testing & HCI</a></li></ol></li><li class="chapter-item "><a href="../es2c0/index.html"><strong aria-hidden="true">11.</strong> ES2C0</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c0/diodes.html"><strong aria-hidden="true">11.1.</strong> Diodes</a></li><li class="chapter-item "><a href="../es2c0/oscillators.html"><strong aria-hidden="true">11.2.</strong> Oscillators</a></li><li class="chapter-item "><a href="../es2c0/bjt.html"><strong aria-hidden="true">11.3.</strong> BJTs</a></li><li class="chapter-item "><a href="../es2c0/bjt-amps.html"><strong aria-hidden="true">11.4.</strong> BJT Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/mosfet.html"><strong aria-hidden="true">11.5.</strong> MOSFETs</a></li><li class="chapter-item "><a href="../es2c0/mosfet-amps.html"><strong aria-hidden="true">11.6.</strong> MOSFET Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/differential.html"><strong aria-hidden="true">11.7.</strong> Differential Amplifiers</a></li><li class="chapter-item "><a href="../es2c0/opamps.html"><strong aria-hidden="true">11.8.</strong> Op-Amps</a></li><li class="chapter-item "><a href="../es2c0/equations.html"><strong aria-hidden="true">11.9.</strong> Equation Reference</a></li></ol></li><li class="chapter-item "><a href="../es2c6/index.html"><strong aria-hidden="true">12.</strong> ES2C6</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c6/control.html"><strong aria-hidden="true">12.1.</strong> Control Systems</a></li><li class="chapter-item "><a href="../es2c6/mechanics.html"><strong aria-hidden="true">12.2.</strong> Drive Systems</a></li><li class="chapter-item "><a href="../es2c6/sensors.html"><strong aria-hidden="true">12.3.</strong> Sensors</a></li><li class="chapter-item "><a href="../es2c6/electromagnetics.html"><strong aria-hidden="true">12.4.</strong> Electromagnetics & Motors</a></li><li class="chapter-item "><a href="../es2c6/ac.html"><strong aria-hidden="true">12.5.</strong> AC Power</a></li><li class="chapter-item "><a href="../es2c6/3phase.html"><strong aria-hidden="true">12.6.</strong> Three Phase AC Systems</a></li></ol></li><li class="chapter-item "><a href="../es2c7/index.html"><strong aria-hidden="true">13.</strong> ES2C7</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2c7/binomial.html"><strong aria-hidden="true">13.1.</strong> Binomial Theorem & Taylor Series</a></li><li class="chapter-item "><a href="../es2c7/matrices.html"><strong aria-hidden="true">13.2.</strong> Matrices & Quadratic Forms</a></li><li class="chapter-item "><a href="../es2c7/equations.html"><strong aria-hidden="true">13.3.</strong> Linear Simultaneous Equations</a></li><li class="chapter-item "><a href="../es2c7/eigen.html"><strong aria-hidden="true">13.4.</strong> Eigenvalues & Eigenvectors</a></li><li class="chapter-item "><a href="../es2c7/systems.html"><strong aria-hidden="true">13.5.</strong> Oscillators & State Space Systems</a></li><li class="chapter-item "><a href="../es2c7/calculus.html"><strong aria-hidden="true">13.6.</strong> Matrix Differential Calculus</a></li><li class="chapter-item "><a href="../es2c7/optimisation.html"><strong aria-hidden="true">13.7.</strong> Optimisation</a></li><li class="chapter-item "><a href="../es2c7/fourier.html"><strong aria-hidden="true">13.8.</strong> Fourier Series & Transforms</a></li><li class="chapter-item "><a href="../es2c7/z.html"><strong aria-hidden="true">13.9.</strong> Z Transforms</a></li><li class="chapter-item "><a href="../es2c7/pdes.html"><strong aria-hidden="true">13.10.</strong> Partial Differential Equations</a></li></ol></li><li class="chapter-item expanded "><a href="../es2e3/index.html"><strong aria-hidden="true">14.</strong> ES2E3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es2e3/logic.html"><strong aria-hidden="true">14.1.</strong> Logic</a></li><li class="chapter-item "><a href="../es2e3/hdl.html"><strong aria-hidden="true">14.2.</strong> Hardware Description Languages</a></li><li class="chapter-item expanded "><a href="../es2e3/verilog.html" class="active"><strong aria-hidden="true">14.3.</strong> Structural & Behavioual Verilog</a></li><li class="chapter-item "><a href="../es2e3/design.html"><strong aria-hidden="true">14.4.</strong> FPGA Design Flow</a></li><li class="chapter-item "><a href="../es2e3/architecture.html"><strong aria-hidden="true">14.5.</strong> FPGA Architecture</a></li><li class="chapter-item "><a href="../es2e3/sequential.html"><strong aria-hidden="true">14.6.</strong> Sequential Verilog</a></li><li class="chapter-item "><a href="../es2e3/fsm.html"><strong aria-hidden="true">14.7.</strong> Finite State Machines</a></li><li class="chapter-item "><a href="../es2e3/verification.html"><strong aria-hidden="true">14.8.</strong> Verification</a></li><li class="chapter-item "><a href="../es2e3/arithmetic.html"><strong aria-hidden="true">14.9.</strong> FPGA Arithmetic</a></li><li class="chapter-item "><a href="../es2e3/timing.html"><strong aria-hidden="true">14.10.</strong> Timing & Pipelining</a></li><li class="chapter-item "><a href="../es2e3/interfaces.html"><strong aria-hidden="true">14.11.</strong> Hardware Interfaces</a></li><li class="chapter-item "><a href="../es2e3/processors.html"><strong aria-hidden="true">14.12.</strong> Processor Implementation</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Computer Systems Engineering Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Joeyh021/notes" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/Joeyh021/notes/edit/master/src/es2e3/verilog.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h2 id="structural-verilog"><a class="header" href="#structural-verilog">Structural Verilog</a></h2>
<ul>
<li>Have seen how to write Verilog for combinational modules consisting of gates</li>
<li>Each time we use a gate, we are creating an instance of that gate connected to the wires in the brackets</li>
<li>This concept extends to <em>all</em> Verilog modules</li>
</ul>
<h3 id="binary-adder"><a class="header" href="#binary-adder">Binary Adder</a></h3>
<p>A half adder takes two 1-bit inputs and generates a sum and a carry out:</p>
<table><thead><tr><th>A</th><th>B</th><th>sum</th><th>carry</th></tr></thead><tbody>
<tr><td>0</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>0</td><td>1</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>0</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>1</td><td>0</td><td>1</td></tr>
</tbody></table>
<p>Can see there are two gates in this design:</p>
<ul>
<li>Sum is an XOR</li>
<li>Carry is an AND</li>
</ul>
<p>Can express in verilog as follows:</p>
<pre><code class="language-verilog">module add_half(input  a,   b //two inputs two outputs
                output sum, carry);

  xor g1(sum,a,b); //xor gate for sum output
  and g2 (carry,a,b) //and gate for carry output

endmodule;
</code></pre>
<h3 id="full-adder"><a class="header" href="#full-adder">Full Adder</a></h3>
<p>A full adder is similar but accepts a carry in to chain carries out</p>
<table><thead><tr><th>Cin</th><th>A</th><th>B</th><th>Cout</th><th>Sum</th></tr></thead><tbody>
<tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>0</td><td>0</td><td>1</td><td>0</td><td>1</td></tr>
<tr><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td></tr>
<tr><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td></tr>
<tr><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td></tr>
<tr><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr>
</tbody></table>
<p>Can see that this is made using half adders:</p>
<p><img src="./img/fulladd.png" alt="" /></p>
<p>Structural verilog allows for building modules from other modules to create a hierarchy. Can instantiate our half adder module twice to reuse it in our full adder module to create a hierarchical design.</p>
<pre><code class="language-verilog">module full_add(input a, b, Cin,
                output sum, Cout);

  wire w1, w2, w3;

  //instance of add_half
  add_half m1 (a, b, w1, w2);
  add_half m2 (Cin,w1,sum,w3);
  or(Cout,w2,w3);


endmodule;
</code></pre>
<h3 id="instantiation-in-verilog"><a class="header" href="#instantiation-in-verilog">Instantiation in Verilog</a></h3>
<ul>
<li>Instantiate a module by invoking its name and then naming that instance</li>
<li>Example above creates two <code>add_half</code>s named <code>m1</code> and <code>m2</code></li>
<li>Connects the signals and ports referenced in the parentheses with the corresponding ports of the instantiated module
<ul>
<li>Same as gate modules</li>
</ul>
</li>
<li>Order of signals determines connections</li>
<li>This is error prone, as it requires to remember the order of the ports</li>
<li>If port specification is changed, have to change the instantiation</li>
<li>Should always instead use a named connection:</li>
</ul>
<pre><code class="language-verilog">add_half(.a(a), .b(b), .sum(w1), .Cout(w2))
</code></pre>
<p>The port name for the module is preceded with a dot <code>.</code>, and the internal port is given in brackets.</p>
<h3 id="assign-statements"><a class="header" href="#assign-statements">Assign Statements</a></h3>
<p>Verilog has <code>assign</code> statements to express combinational logic</p>
<pre><code class="language-verilog">assign result = a &amp; b;
</code></pre>
<p>This is called a <strong>continuous assignment</strong>: it allows us to assign the result of a boolean expression to a signal. there is a range of bitwise operators:</p>
<table><thead><tr><th>Operator</th><th>Function</th></tr></thead><tbody>
<tr><td><code>&amp;</code></td><td><code>AND</code></td></tr>
<tr><td><code>\|</code></td><td><code>OR</code></td></tr>
<tr><td><code>~</code></td><td><code>NOT</code></td></tr>
<tr><td><code>^</code></td><td><code>XOR</code></td></tr>
<tr><td><code>~&amp;</code></td><td><code>NAND</code></td></tr>
<tr><td><code>~\| </code></td><td><code>NOR</code></td></tr>
</tbody></table>
<p>Here is the full adder from earlier using assign statements instead of gates. There is no need to describe the structure in terms of gates, only logic functions. As with gate instances, the order of assign statements is irrelevant.</p>
<pre><code class="language-verilog">module full_add(input a, b, Cin,
                output sum, Cout);

  assign sum = a ^ b ^ Cin;
  assign Cout = (a &amp; b) | (b &amp; Cin) | (a &amp; Cin);


endmodule;
</code></pre>
<p>It is also possible to assign implicitly in a wire declaration:</p>
<pre><code class="language-verilog">wire y;
assign y = (a &amp; b) ^ c;
// equivalent to
wire y = (a &amp; b) ^ c;
</code></pre>
<h3 id="user-defined-primitives"><a class="header" href="#user-defined-primitives">User-Defined Primitives</a></h3>
<p>Verilog also allows you to create your own primitive modules which are defined using a truth table (though this isn't used much).</p>
<ul>
<li>Can only have one output and it must be the first port</li>
<li><code>?</code> signifies a don't-care condition</li>
</ul>
<pre><code class="language-verilog">primitive mux_prim(output mux_out,
                   input select, a, b);

  table
  // select a b : mux_out
      0     0 ? : 0;
      0     1 ? : 1;
      1     ? 0 : 0
      1     ? 1 : 1
      ?     0 0 : 0
      ?     1 1 : 1;
  endtable

endprimitive;
</code></pre>
<h3 id="conditional-assignment"><a class="header" href="#conditional-assignment">Conditional Assignment</a></h3>
<p>It is possible to have conditional assignment. Output is assigned to one of two possible expressions, dependant upon a condition:</p>
<pre><code class="language-verilog">// a multiplexer
assign y = sel ? x1 : x0;
</code></pre>
<p>The signal <code>y</code> will be connected to <code>x1</code> if sel is <code>1</code>, else it will be connected to <code>x0</code>.</p>
<h3 id="multi-bit-signals"><a class="header" href="#multi-bit-signals">Multi-bit Signals</a></h3>
<p>Verilog supports multi-bit signals, called <strong>vectors</strong> or buses. A signal is declared as a bus by specifying a range:</p>
<pre><code class="language-verilog">wire [31:0] databus; //32-bit bus

//ports can also be multiple bits wide
module add16(input [15:0] a, b,
             output [15:0] sum,
             output cout);
</code></pre>
<p>By convention, ranges are specified <code>[MSB:LSB]</code>, meaning a 16-bit signal is <code>[15:0]</code>. The range is specified preceding the signal name.</p>
<h3 id="numeric-literals"><a class="header" href="#numeric-literals">Numeric Literals</a></h3>
<p>Literals use the format <code>&lt;size&gt;'&lt;radix&gt;&lt;value&gt;</code></p>
<ul>
<li>size is the width of the number in bits</li>
<li>radix is <code>b</code>inary <code>d</code>ecimal, <code>o</code>ctal or <code>h</code>exadecimal</li>
<li><code>4'b0000</code>
<ul>
<li>4 binary bits 0000</li>
</ul>
</li>
<li><code>8'h4F</code>
<ul>
<li>8 bit wide hex number 4F</li>
</ul>
</li>
<li><code>8'b0100_1111</code>
<ul>
<li>8 bit wide binary number</li>
<li>Underscores can split long strings</li>
</ul>
</li>
<li><code>1'b1</code>
<ul>
<li>A single <code>1</code> bit</li>
</ul>
</li>
</ul>
<h3 id="working-with-vectors"><a class="header" href="#working-with-vectors">Working with Vectors</a></h3>
<p>When using the vector name, all the bits are being operated on. Logic operations performed on vectors are bitwise.</p>
<pre><code class="language-verilog">wire [3:0] a = 4'b0110;
wire [3:0] b = 4'b1010;

wire [3:0] x = a &amp; b;
wire [3:0] y = a ^ b;
</code></pre>
<p>Can access parts of a vector by specifying a range after the signal name</p>
<ul>
<li><code>assign y = some[3];</code>
<ul>
<li>Assign 4th bit of signal <code>some</code> to y</li>
</ul>
</li>
<li>`assign z = some[4:3];
<ul>
<li>Creates two bit signal z from 5th/4th bit of <code>some</code></li>
</ul>
</li>
</ul>
<p>The widths of vectors in assignments should match. Verilog doesn't check and will let you do:</p>
<pre><code class="language-verilog">assign x[2:0] = y[1];
assign x[2:1] = a;
</code></pre>
<p>This is probably not what you wanted to do. Always check widths and remember that <strong>LSB is 0</strong>.</p>
<h3 id="combinational-arithmetic"><a class="header" href="#combinational-arithmetic">Combinational Arithmetic</a></h3>
<p>Verilog supports basic arithmetic and comparison:</p>
<ul>
<li>Arithmetic <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></li>
<li>Comparison
<ul>
<li>Return <code>1</code> for true and <code>0</code> for false</li>
</ul>
</li>
</ul>
<pre><code class="language-verilog">assign sum = a+b;
assign diff = curr - prev;
assign max = (a &gt; b) ? a : b;
</code></pre>
<p><strong>Vectors are all treated as unsigned numbers</strong></p>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<p>Constants that are local to a module that can be optionally redefined on an instance-by-instance basis.</p>
<pre><code class="language-verilog">module some_mod#(parameter SIZE=8)
                (input[SIZE-1:0] X, Y
                 output[SIZE-1:0 Z])

</code></pre>
<p>When module is instantiated parameters can be changed. The module above is instantiated twice below, but each instance is 16 bits:</p>
<pre><code class="language-verilog">module some_other_mod(input [15:0] a, b, c, output [15:0] D, E);

some_mod #(.SIZE(16)) U1 (.X(a), .Y(b), .Z(D));
some_mod #(.SIZE(16)) U1 (.X(c), .Y(b), .Z(E));
endmodule;
</code></pre>
<h3 id="concatenation-and-replication"><a class="header" href="#concatenation-and-replication">Concatenation and Replication</a></h3>
<p>Signals can be concatenated into a single signal using brace syntax.</p>
<pre><code class="language-verilog">//b is 8 bit
assign b = {a[3:0], 4'b0000}

wire [3:0] a, b;
wire [7:0] y;

//join two 4 bit signals to create 8 bit bus
assign y = {a,b};
</code></pre>
<p>Signals can also be replicated with a preceding integer or variable.</p>
<pre><code class="language-verilog">//c is also 8 bit
assign c = {4{a[3]}, a[3:0]};
</code></pre>
<h3 id="example-2-bit-comparator"><a class="header" href="#example-2-bit-comparator">Example: 2-bit comparator</a></h3>
<p>A verilog module to compare two 2-bit signals <code>a [1:0]</code> and <code>b [1:0]</code></p>
<pre><code class="language-verilog">module comp_2bit (input [1:0] a,b output a_gt_b);

assign a_gt_b = //complex combinatorial logic

//alternatively
assign a_gt_b = (a &gt; b);

endmodule;
</code></pre>
<h2 id="behavioural-verilog"><a class="header" href="#behavioural-verilog">Behavioural Verilog</a></h2>
<ul>
<li>Rather than describe how the circuit is constructed or it's raw function, describe how it behaves</li>
<li>Implementation tools work out how to make hardware that fulfils the behaviour, considering the target architecture</li>
</ul>
<h3 id="the-always-block"><a class="header" href="#the-always-block">The <code>always</code> block</a></h3>
<p>An always block contains procedural statements that describe the behaviour of the required hardware.</p>
<pre><code class="language-verilog">always @ (a,b)
    begin
        x = a &amp; b;
        y = a | b;
    end
</code></pre>
<ul>
<li>The <code>always</code> keyword starts a block</li>
<li>The sensitivity list (in brackets after the <code>@</code>) contains the names of any signals that affect the block's output
<ul>
<li>The block is sensitive to <code>a</code> and <code>b</code></li>
<li>Signals the circuit should respond to</li>
<li>Shorthand <code>always @ *</code> includes all signals in sensitivity list</li>
</ul>
</li>
<li>Procedural statements between <code>begin</code> and <code>end</code></li>
<li>Give a more readable description of logic by describing how the output should change.</li>
<li><code>assign</code> keyword not used - always block is an alternative to using it</li>
</ul>
<h3 id="reg-signals"><a class="header" href="#reg-signals"><code>reg</code> signals</a></h3>
<ul>
<li>Since we are modelling at a higher level of abstraction, we use something other than wires</li>
<li>Signals assigned to from within <code>always</code> blocks must be declared as of type <code>reg</code></li>
<li>A <code>reg</code> is like a wire but can only be assigned to from within an always block
<ul>
<li>A wire is a connection between components and does not have its own value</li>
</ul>
</li>
<li>Cannot assign to a reg using an assign statement or use it to connect to the output of a module</li>
<li>If you want to assign to an output port from inside an always block, it must be declared as <code>reg</code> in the module header too</li>
</ul>
<p>The following two are functionally equivalent:</p>
<pre><code class="language-verilog">
// x and y must be reg
always@ *
begin
  x = a &amp; b
  y = a | b
end

//and

assign x = a &amp; b;
assign y = a | b;
</code></pre>
<h3 id="if-statements"><a class="header" href="#if-statements"><code>if</code> Statements</a></h3>
<p>Allows to describe a combinational circuit at a higher level of abstraction</p>
<pre><code class="language-verilog">always @ *
begin
  if (x &lt; 6)
    alarm = 1'b0;
  else
    alarm = 1'b1
  end
end
</code></pre>
<ul>
<li>Each branch can have more than one statement</li>
<li>Use begin and end the same as braces in C</li>
<li>Statements can be nested with other</li>
<li>Condition can be anything the evaluates to a boolean value</li>
<li>Can use comparisons and equality operators</li>
<li>Can combine conditions with logical operators <code>!</code>, <code>&amp;&amp;</code>, <code>||</code></li>
</ul>
<h3 id="case-statements"><a class="header" href="#case-statements"><code>case</code> Statements</a></h3>
<p>Verilog features case statements that let us choose from multiple possibilities, similar to C.</p>
<pre><code class="language-verilog">always @ *
case (sel)
  2'b00 : y = a;
  2'b01 : y = b;
  2'b10 : y = c;
  default: y = 4'b1010;
endcase
</code></pre>
<p>A decoder is a good use case for a case statement</p>
<pre><code class="language-verilog">module decoder3_8(input [2:0] ival, output reg [7:0] d_out);
always @ *
  case(ival)
    3'b000 : d_out = 8'b00000001;
    3'b001 : d_out = 8'b00000010;
    //etc...
    3'b111 : d_out = 8'b10000000;
  endcase
endmodule
</code></pre>
<p>Can also describe a multiplexer:</p>
<pre><code class="language-verilog">module mux4 (input [3:0] d, input [1:0] sel, output reg q)
  always @ * begin
    case (sel)
      2'b00 : q = d[0]
      2'b01 : q = d[1]
      2'b10 : q = d[2]
      2'b11 : q = d[3]
    endcase
  end
endmodule
</code></pre>
<ul>
<li>Can assign to multiple signals from inside one always block</li>
<li>If you assign to a signal from inside an always block, must never do so anywhere else
<ul>
<li>Using <code>assign</code></li>
<li>In another always block</li>
<li>Like connecting a wire to multiple inputs: not allowed</li>
</ul>
</li>
<li>Order matters in an always block as we are describing behaviour</li>
<li>If a signal is assigned to more than once, the last one takes precedence</li>
</ul>
<h3 id="avoiding-latches"><a class="header" href="#avoiding-latches">Avoiding latches</a></h3>
<pre><code class="language-verilog">always @ *
begin
  if (valid) begin
    x = a | b;
    y = c;
  end
  else
    x = a;
end
</code></pre>
<ul>
<li>What happens to <code>y</code> in the else branch? No output is specified</li>
<li>No output is explicitly specified
<ul>
<li><code>y</code> latches on previous value</li>
<li>Not ideal</li>
</ul>
</li>
<li>All outputs from the always block must be assigned to in all circumstances</li>
<li>An output not being assigned to implies it should be latched or stored</li>
<li>If no output is specified, output is no longer combinational</li>
<li>Compiler would understand it to be a latch</li>
</ul>
<p>A way to avoid this is to always use a default assignment at the top of the always block. The default will be overwritten by any subsequent assignments</p>
<pre><code class="language-verilog">always @ * begin
  y = x;
  if(valid) begin
    c = a | b;
    y = z;
  end
  else
    c = a;
    // y is x here
  end
end

</code></pre>
<ul>
<li>Must always include any signal that is in the sensitivity list</li>
<li>Must assign to an output signal in all possible cases
<ul>
<li>This is to maintain combinational logic</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../es2e3/hdl.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../es2e3/design.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../es2e3/hdl.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../es2e3/design.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
